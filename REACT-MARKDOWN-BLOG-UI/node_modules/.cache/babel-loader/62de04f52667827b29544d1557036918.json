{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\Projects\\\\React_Markdown_Blog_Project\\\\REACT-MARKDOWN-BLOG-UI\\\\src\\\\containers\\\\PostDetail.js\";\nimport React, { useState } from 'react';\nimport { Header, Divider, Container, Image, Button, Modal } from 'semantic-ui-react';\nimport ReactMarkdown from 'react-markdown';\nimport axios from 'axios';\nimport Loader from '../components/Loader';\nimport Message from '../components/Message';\nimport { useParams, withRouter } from 'react-router-dom';\nimport { api } from '../api';\nimport { useFetch } from '../helpers';\nimport { history } from \"../helpers\";\nimport Renderer from 'markdown-it/lib/renderer';\n\nconst DeleteModal = ({\n  title,\n  postSlug,\n  thumbnail\n}) => {\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  function handleSubmit() {\n    setLoading(true);\n    axios.delete(api.posts.delete(postSlug), {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n        \"Authorization\": \"Token a8df07ad37824b4c5fd9ac5d4bc13e424fa4fd8b\"\n      }\n    }).then(res => {\n      setLoading(false);\n      history.push('/');\n    }).catch(err => {\n      setLoading(false);\n      setError(err.message || err);\n    });\n  }\n\n  const [open, toggle] = useState(false);\n  return /*#__PURE__*/React.createElement(Modal, {\n    trigger: /*#__PURE__*/React.createElement(Button, {\n      onClick: () => toggle(true),\n      secondary: true,\n      floated: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 22\n      }\n    }, \"Delete Post\"),\n    open: open,\n    onClose: () => toggle(false),\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, \"Delete this Post\"), /*#__PURE__*/React.createElement(Modal.Content, {\n    image: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    wrapped: true,\n    size: \"medium\",\n    src: thumbnail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Modal.Description, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, title), error && /*#__PURE__*/React.createElement(Message, {\n    negative: true,\n    message: error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, \"Are you sure, you want to delete this post?\"))), /*#__PURE__*/React.createElement(Modal.Actions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"black\",\n    onClick: () => toggle(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, \"No\"), /*#__PURE__*/React.createElement(Button, {\n    positive: true,\n    icon: \"checkmark\",\n    labelPosition: \"right\",\n    content: \"Confirm Delete\",\n    onClick: handleSubmit,\n    loading: loading,\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  })));\n};\n\nconst Blockquote = props => {\n  return /*#__PURE__*/React.createElement(\"blockquote\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, props.value ? props.value : props.children);\n};\n\nconst Renderers = {\n  blockquote: Blockquote\n};\n\nconst PostDetail = () => {\n  const {\n    postSlug\n  } = useParams();\n  const {\n    data,\n    loading,\n    error\n  } = useFetch(api.posts.retrieve(postSlug));\n  return /*#__PURE__*/React.createElement(Container, {\n    text: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, error && /*#__PURE__*/React.createElement(Message, {\n    negative: true,\n    message: error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 19\n    }\n  }), loading && /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }), data && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: data.thumbnail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Header, {\n    as: \"h1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, data.title), /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, \" Last Updated: \", `${new Date(data.last_updated).toLocaleDateString()}`), /*#__PURE__*/React.createElement(ReactMarkdown, {\n    source: data.content,\n    renderers: Renderers,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(DeleteModal, {\n    postSlug: postSlug,\n    title: data.title,\n    thumbnail: data.thumbnail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  })));\n};\n\nexport default withRouter(PostDetail);","map":{"version":3,"sources":["C:/Users/DELL/Desktop/Projects/React_Markdown_Blog_Project/REACT-MARKDOWN-BLOG-UI/src/containers/PostDetail.js"],"names":["React","useState","Header","Divider","Container","Image","Button","Modal","ReactMarkdown","axios","Loader","Message","useParams","withRouter","api","useFetch","history","Renderer","DeleteModal","title","postSlug","thumbnail","error","setError","loading","setLoading","handleSubmit","delete","posts","headers","then","res","push","catch","err","message","open","toggle","Blockquote","props","value","children","Renderers","blockquote","PostDetail","data","retrieve","Date","last_updated","toLocaleDateString","content"],"mappings":"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","sourcesContent":["import React,{useState} from 'react';\r\nimport {Header,Divider,Container, Image, Button,Modal} from 'semantic-ui-react';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport axios from 'axios';\r\n\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport {useParams, withRouter} from 'react-router-dom';\r\nimport {api} from '../api';\r\nimport {useFetch} from '../helpers';\r\nimport {history} from \"../helpers\";\r\nimport Renderer from 'markdown-it/lib/renderer';\r\n\r\n\r\nconst DeleteModal = ({title,postSlug,thumbnail}) => {\r\n    const [error, setError] = useState(null)\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    function handleSubmit() {\r\n       \r\n        setLoading(true);\r\n\r\n        axios\r\n            .delete(api.posts.delete(postSlug),  {\r\n                headers: {\r\n                    \"Content-Type\": \"multipart/form-data\",\r\n                    \"Authorization\": \"Token a8df07ad37824b4c5fd9ac5d4bc13e424fa4fd8b\"\r\n                }\r\n            })\r\n            .then(res => {\r\n                setLoading(false);\r\n                history.push('/')\r\n            })\r\n            .catch(err => {\r\n                setLoading(false);\r\n                setError(err.message || err)\r\n            })\r\n    }\r\n\r\n    const [open,toggle] = useState(false);\r\n    \r\n        return (\r\n        <Modal\r\n            trigger={<Button onClick={() =>toggle(true)} secondary floated=\"right\">Delete Post</Button>}\r\n            open={open}\r\n            onClose={() =>toggle(false)}\r\n            size='small'\r\n        >\r\n        <Modal.Header>Delete this Post</Modal.Header>\r\n            <Modal.Content image>\r\n            <Image wrapped size='medium' src={thumbnail} />\r\n            <Modal.Description>\r\n                <Header>{title}</Header>\r\n                {error && (\r\n                    <Message negative message={error} />\r\n                )}\r\n                <p>\r\n                Are you sure, you want to delete this post?\r\n                </p>\r\n            </Modal.Description>\r\n            </Modal.Content>\r\n            <Modal.Actions>\r\n                <Button color='black' onClick={() =>toggle(false)}>\r\n                    No\r\n                </Button>\r\n                <Button\r\n                    positive\r\n                    icon='checkmark'\r\n                    labelPosition='right'\r\n                    content=\"Confirm Delete\"\r\n                    onClick={handleSubmit}\r\n                    loading ={loading}\r\n                    disabled ={loading}\r\n                />\r\n          </Modal.Actions>\r\n        </Modal>\r\n        )\r\n    }\r\n\r\n    const Blockquote =(props)=>{\r\n        return (\r\n            <blockquote>\r\n            {props.value ? props.value:props.children}\r\n            </blockquote>\r\n        )\r\n\r\n    }\r\n\r\n    const Renderers ={\r\n        blockquote: Blockquote\r\n    }\r\n\r\nconst PostDetail = () =>{\r\n    \r\n    const {postSlug} = useParams()\r\n    const {data,loading,error} = useFetch(api.posts.retrieve(postSlug))\r\n    \r\n    \r\n    return(\r\n        <Container text>\r\n        {error && <Message negative message={error} />}\r\n        {loading && <Loader/>}\r\n        {data && (\r\n            <div>\r\n            <Image src={data.thumbnail}/>\r\n            <Header as=\"h1\">\r\n            {data.title}\r\n            </Header>\r\n            <small> Last Updated: {`${new Date(data.last_updated).toLocaleDateString()}`}</small>\r\n            <ReactMarkdown source={data.content} renderers = {Renderers}  />   \r\n            <Divider/>\r\n            <DeleteModal postSlug={postSlug} title = {data.title} thumbnail = {data.thumbnail}/>\r\n            </div>\r\n        )}\r\n        \r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default withRouter(PostDetail);"]},"metadata":{},"sourceType":"module"}